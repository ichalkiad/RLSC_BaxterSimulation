jpos = [ -0.107488,    0.0282611 ,    0.465388 , -0.00595876 ,    0.306807 ,  -0.0773619, -0.000393856;
    0.126401 ,    0.517054 ,   -0.118331,     0.204397 ,  -0.0872099,    -0.150673,  0.000230962;
 3.04256e-08 ,    0.183226 ,   0.0766788,     0.372446 ,   0.0381835,     0.278039, -0.000247272];


w = zeros(7,7);
for i=1:7
    w(i,i) = (i-1)/6.0 + 0.1;
end

winv = inv(w);

I = eye(3,3);
for i=1:3
    I(i,i) = I(i,i)*1000;
end

Iinv = inv(I);

jsharp = winv*jpos'*inv((jpos*winv*jpos'+Iinv));

target = [0.46, 0.275, 1.29];
y = [0.0128, 0.2809, 0.8063];

target-y


poses = [0.760532,     -1.00082,      0.20621,     0.992693,    0.0721944,      1.93786, -0.000331781;
    0.842833,    -0.888186,     0.215127,     0.910259 ,   0.0649465     , 1.87534, -0.000285275;
    0.917538,    -0.778419,      0.21367,     0.818339 ,   0.0684165,      1.79499, -0.000240601;
    0.976767 ,   -0.680021,     0.217306,     0.730222 ,   0.0732581,      1.70184, -0.000191037;
     1.05361  ,  -0.570701,     0.201617,     0.624212 ,   0.0675729,      1.60326, -0.000126634;
     1.13915,    -0.450356,      0.17272,     0.505336 ,   0.0582895,      1.48366, -4.73181e-05;
     1.20749,     -0.33132,     0.153349,     0.391285 ,   0.0527462,      1.34246,   3.9677e-05;
     1.27305,    -0.202081,     0.131579,     0.276265,    0.0462159,      1.16634 , 0.000146944;
    0.755882,    -0.997723,     0.213168,     0.990847,    0.0708422,      1.93927 ,-0.000330834;
    0.828407,    -0.891616,     0.223674,     0.916843,    0.0741048,      1.86925 ,-0.000291903;
    0.906301,    -0.784644,     0.220934,     0.826966,    0.0728687,       1.7917 ,-0.000243941;
      0.9885,    -0.675236,     0.207852,     0.724249,    0.0695338,      1.70334 , -0.00018785;
     1.06823,    -0.562698,     0.189407,      0.61528,    0.0628197,      1.60262, -0.000121146;
     1.13935,    -0.453766,     0.172196,      0.51181,    0.0581141,      1.48887, -5.00605e-05;
     1.19916,    -0.329793,     0.163496,     0.388412,    0.0558141,      1.34728,  3.43731e-05;
     1.26622,    -0.196968,     0.141864,     0.266363,    0.0487143,      1.17416,  0.000140165;
    0.755537,     -1.00395,     0.208596,     0.997659,    0.0792428,        1.934, -0.000337487;
    0.834758,    -0.889861,     0.218407,     0.915428,    0.0761055,      1.86885, -0.000293795;
    0.910523,    -0.781311,     0.220002,     0.825328,    0.0739262,      1.79065, -0.000244396;
    0.980022,    -0.679036,     0.217903,     0.730388,    0.0730824,      1.70063, -0.000190285;
      1.0677,    -0.563402,      0.19008,     0.616637,    0.0627594,       1.6026, -0.000121079;
     1.13772,    -0.449911,     0.174401,     0.504959,    0.0588957,      1.48393, -4.80351e-05;
     1.20899,    -0.332363,     0.151178,     0.392201,    0.0521807,      1.34217,  4.04894e-05;
     1.27629,    -0.204844,      0.12623,     0.279399,     0.044681,        1.165 , 0.000149546];
